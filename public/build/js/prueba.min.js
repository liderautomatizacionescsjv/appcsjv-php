const usuarioid=document.getElementById("usuario-id").dataset.id;console.log("Usuario ID:",usuarioid);const modal=document.getElementById("modalAsignacion"),btnAbrir=document.getElementById("asignar-grupos"),btnCerrar=document.getElementById("cerrar"),form=document.getElementById("formAsignacion");function cerrarModalAsignacion(){modal.style.display="none"}async function cargarOpciones(){try{const e=await fetch("/api/grupos"),n=await e.json(),o=document.getElementById("selectGrupo");o.innerHTML='<option value="">-- Seleccionar --</option>',n.forEach(e=>{o.innerHTML+=`<option value="${e.idgrupo}">${e.nombre}</option>`});const a=await fetch("/api/asignaturas"),t=await a.json(),r=document.getElementById("selectAsignatura");r.innerHTML='<option value="">-- Seleccionar --</option>',t.forEach(e=>{r.innerHTML+=`<option value="${e.idasignatura}">${e.nombre}</option>`})}catch(e){console.error("‚ö†Ô∏è Error cargando opciones:",e)}}btnAbrir.addEventListener("click",(function(){modal.style.display="flex",cargarOpciones()})),btnCerrar.addEventListener("click",(function(){cerrarModalAsignacion()})),form.addEventListener("submit",(async function(e){e.preventDefault();const n=document.getElementById("selectGrupo").value,o=document.getElementById("selectAsignatura").value;if(n&&o)try{const e=await fetch("http://localhost:3002/api/guardar-asignacion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({docenteid:usuarioid,grupoid:n,cursoid:o})}),a=await e.json();console.log("üì• Respuesta de la API:",a),a.exito?(mostrarNotificacion("‚úÖ Asignaci√≥n guardada correctamente"),cerrarModalAsignacion(),cargarAsignaciones()):mostrarNotificacion("‚ö†Ô∏è Error al registrar la asignaci√≥n.")}catch(e){console.error("‚ö†Ô∏è Error en fetch:",e),mostrarNotificacion("‚ö†Ô∏è Error en la conexi√≥n con el servidor.")}else mostrarNotificacion("‚ö†Ô∏è Debes seleccionar un grupo y una asignatura.")}));
//# sourceMappingURL=prueba.min.js.map
