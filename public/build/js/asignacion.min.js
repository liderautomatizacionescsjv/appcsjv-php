document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("modalAsignacion"),n=document.getElementById("asignar-grupos"),t=document.querySelector(".close"),a=document.getElementById("formAsignacion");function o(){e.style.display="none"}n.addEventListener("click",(function(){e.style.display="flex",async function(){try{const e=await fetch("/api/grupos"),n=await e.json(),t=document.getElementById("selectGrupo");t.innerHTML='<option value="">-- Seleccionar --</option>',n.forEach(e=>{t.innerHTML+=`<option value="${e.idgrupo}">${e.nombre}</option>`});const a=await fetch("/api/asignaturas"),o=await a.json(),i=document.getElementById("selectAsignatura");i.innerHTML='<option value="">-- Seleccionar --</option>',o.forEach(e=>{i.innerHTML+=`<option value="${e.idasignatura}">${e.nombre}</option>`})}catch(e){console.error("Error cargando opciones:",e)}}()})),t.addEventListener("click",(function(){o()})),a.addEventListener("submit",(async function(e){e.preventDefault();const n=document.getElementById("selectGrupo").value,t=document.getElementById("selectAsignatura").value;if(n&&t)try{const e=await fetch("/api/guardar-asignacion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grupoid:n,cursoid:t})});(await e.json()).exito?(alert("Asignación guardada correctamente"),o()):alert("Error al guardar la asignación")}catch(e){console.error("Error guardando la asignación:",e)}else alert("Debe seleccionar un grupo y una asignatura")}))}));
//# sourceMappingURL=asignacion.min.js.map
